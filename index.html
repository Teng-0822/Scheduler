<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Virtual Assistant Scheduler - Client Management</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
<div id="codeModal">
        <div class="code-box">
            <div class="code-icon">ğŸ”</div>
            <h2 class="code-title">Access Code Required</h2>
            <p class="code-subtitle">Enter your unique access code to continue</p>
            <div class="name-row">
                <input type="text" id="givenNameInput" class="name-input" placeholder="Given Name" maxlength="50">
                <input type="text" id="lastNameInput" class="name-input" placeholder="Last Name" maxlength="50">
            </div>
            <input type="text" id="codeInput" class="code-input" placeholder="ENTER CODE" maxlength="20">
            <div id="codeError" class="code-error"></div>
            <button id="codeBtn" class="code-btn">VERIFY & CONTINUE</button>
        </div>
    </div>


    <div class="container hide-app">
        <header>
            <div class="header-content">
                <div class="header-left">
                    <h1>ğŸ“… Virtual Assistant Scheduler</h1>
                    <p>Manage clients and tasks efficiently</p>
                    <div id="liveClock" style="font-size:1.2em;font-weight:600;margin-top:8px;opacity:0.95"></div>
                </div>
                <div class="header-right">
                    <div class="profile-section" onclick="openProfileModal()">
                        <div class="profile-avatar" id="headerAvatar">ğŸ‘¤</div>
                        <div class="profile-name" id="headerName">Guest User</div>
                    </div>
                    <button class="settings-btn" onclick="openSettingsModal()">âš™ï¸</button>
                </div>
            </div>
        </header>

        <div class="tabs">
            <button class="tab-btn active" data-tab="calendar">ğŸ“… Calendar</button>
            <button class="tab-btn" data-tab="tasks">ğŸ“‹ Tasks</button>
            <button class="tab-btn" data-tab="clients">ğŸ‘¥ Clients</button>
            <button class="tab-btn" data-tab="shortcuts">ğŸ”— Export</button>
            <button class="tab-btn" data-tab="profile">ğŸ‘¤ Profile</button>
            
        </div>

        <!-- Calendar Tab -->
        <div id="calendar" class="tab-content active">
            <div id="notificationBanner" class="info-box info" style="display:none">
                <p>ğŸ”” <strong>Enable notifications to receive reminders!</strong></p>
                <button class="btn btn-primary" onclick="requestNotificationPermission()">Enable</button>
            </div>

            <div class="info-box warning">
                <h4>ğŸ“± Add to Home Screen</h4>
                <p><strong>For best experience on mobile:</strong></p>
                <ul>
                    <li><strong>iOS:</strong> Share â†’ Add to Home Screen</li>
                    <li><strong>Android:</strong> Menu â†’ Add to Home screen</li>
                </ul>
            </div>

            <div class="calendar-controls">
                <h2 id="currentMonth"></h2>
                <div class="calendar-nav">
                    <button class="nav-btn" onclick="changeMonth(-1)">â† Prev</button>
                    <button class="nav-btn" onclick="changeMonth(0)">Today</button>
                    <button class="nav-btn" onclick="changeMonth(1)">Next â†’</button>
                </div>
            </div>

            <div class="calendar-grid" id="calendarGrid"></div>
        </div>

        <!-- Tasks Tab -->
        <div id="tasks" class="tab-content">
            <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;flex-wrap:wrap;gap:15px">
                <h2 style="color:var(--primary-color)">All Tasks</h2>
                <button class="btn btn-primary" onclick="openAddTaskModal()">+ Add Task</button>
            </div>

            <div style="margin-bottom:20px">
                <label for="taskClientFilter" style="font-weight:600;margin-right:10px">Filter by Client:</label>
                <select id="taskClientFilter" onchange="filterTasksByClient()" style="padding:10px 15px;border:2px solid var(--border-color);border-radius:8px;min-width:200px">
                    <option value="all">All Clients</option>
                </select>
            </div>

            <div class="task-filters">
                <button class="filter-btn active" data-filter="all" onclick="filterTasks('all')">All</button>
                <button class="filter-btn" data-filter="upcoming" onclick="filterTasks('upcoming')">Upcoming</button>
                <button class="filter-btn" data-filter="urgent" onclick="filterTasks('urgent')">Urgent</button>
                <button class="filter-btn" data-filter="high" onclick="filterTasks('high')">High</button>
                <button class="filter-btn" data-filter="medium" onclick="filterTasks('medium')">Medium</button>
                <button class="filter-btn" data-filter="low" onclick="filterTasks('low')">Low</button>
            </div>

            <div id="allTasksList" class="task-list"></div>
        </div>

        <!-- Clients Tab -->
        <div id="clients" class="tab-content">
            <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;flex-wrap:wrap;gap:15px">
                <h2 style="color:var(--primary-color)">Client Management</h2>
                <button class="btn btn-primary" onclick="openAddClientModal()">+ Add Client</button>
            </div>
            <div id="clientsList" class="client-list"></div>
        </div>

        <!-- Shortcuts Tab -->
        <div id="shortcuts" class="tab-content">
            <div class="settings-panel">
                <h2 style="color:var(--primary-color);margin-bottom:20px">ğŸ”— Export & Backup</h2>
                <div class="settings-section">
                    <h3>ğŸ“¤ Export Data</h3>
                    <div style="display:flex;gap:10px;flex-wrap:wrap;margin-bottom:15px">
                        <button class="btn btn-success" onclick="exportTasks()">ğŸ“¤ Export JSON</button>
                        <button class="btn btn-primary" onclick="exportTasksICS()">ğŸ“… Export Calendar (ICS)</button>
                    </div>
                    <div class="form-group">
                        <label>Import Tasks (JSON)</label>
                        <input type="file" id="importFile" accept=".json" style="margin-bottom:10px">
                        <button class="btn btn-primary btn-full" onclick="importTasks()">ğŸ“¥ Import</button>
                    </div>
                </div>
                <div class="info-box success">
                    <h4>âœ… Best for iOS/Android Reminders</h4>
                    <ol style="margin-left:20px;line-height:2">
                        <li>Click <strong>"Export Calendar (ICS)"</strong></li>
                        <li>Open the file on your phone</li>
                        <li>Tap <strong>"Add All"</strong></li>
                        <li>Get native notifications!</li>
                    </ol>
                </div>
            </div>
        </div>

        <!-- Profile Tab -->
        <div id="profile" class="tab-content">
            <div class="settings-panel">
                <h2 style="color: var(--primary-color); margin-bottom: 30px;">ğŸ‘¤ User Profile</h2>
                
                <div class="form-group">
                    <label>Name</label>
                    <input type="text" id="profileName" placeholder="Enter your name" style="width: 100%; padding: 12px; border: 2px solid #ddd; border-radius: 8px; font-size: 1rem;">
                </div>
                
                <div class="form-group">
                    <label>Email (optional)</label>
                    <input type="email" id="profileEmail" placeholder="Enter your email" style="width: 100%; padding: 12px; border: 2px solid #ddd; border-radius: 8px; font-size: 1rem;">
                </div>
                
                <div class="form-group">
                    <label style="display: block; margin-bottom: 15px; font-weight: 600; font-size: 1.1rem;">Choose Your Avatar</label>
                    <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px; padding: 15px; background: #f8f9fa; border-radius: 12px;">
                        <button class="avatar-option" onclick="saveAvatar('ğŸ‘¤')" style="width: 100%; aspect-ratio: 1; border-radius: 50%; background: #fff; border: 3px solid #ddd; font-size: 2.5rem; cursor: pointer; transition: all 0.3s; display: flex; align-items: center; justify-content: center; padding: 0;">ğŸ‘¤</button>
                        <button class="avatar-option" onclick="saveAvatar('ğŸ˜Š')" style="width: 100%; aspect-ratio: 1; border-radius: 50%; background: #fff; border: 3px solid #ddd; font-size: 2.5rem; cursor: pointer; transition: all 0.3s; display: flex; align-items: center; justify-content: center; padding: 0;">ğŸ˜Š</button>
                        <button class="avatar-option" onclick="saveAvatar('ğŸ¯')" style="width: 100%; aspect-ratio: 1; border-radius: 50%; background: #fff; border: 3px solid #ddd; font-size: 2.5rem; cursor: pointer; transition: all 0.3s; display: flex; align-items: center; justify-content: center; padding: 0;">ğŸ¯</button>
                        <button class="avatar-option" onclick="saveAvatar('â­')" style="width: 100%; aspect-ratio: 1; border-radius: 50%; background: #fff; border: 3px solid #ddd; font-size: 2.5rem; cursor: pointer; transition: all 0.3s; display: flex; align-items: center; justify-content: center; padding: 0;">â­</button>
                        <button class="avatar-option" onclick="saveAvatar('ğŸš€')" style="width: 100%; aspect-ratio: 1; border-radius: 50%; background: #fff; border: 3px solid #ddd; font-size: 2.5rem; cursor: pointer; transition: all 0.3s; display: flex; align-items: center; justify-content: center; padding: 0;">ğŸš€</button>
                        <button class="avatar-option" onclick="saveAvatar('ğŸ’¼')" style="width: 100%; aspect-ratio: 1; border-radius: 50%; background: #fff; border: 3px solid #ddd; font-size: 2.5rem; cursor: pointer; transition: all 0.3s; display: flex; align-items: center; justify-content: center; padding: 0;">ğŸ’¼</button>
                        <button class="avatar-option" onclick="saveAvatar('ğŸ¨')" style="width: 100%; aspect-ratio: 1; border-radius: 50%; background: #fff; border: 3px solid #ddd; font-size: 2.5rem; cursor: pointer; transition: all 0.3s; display: flex; align-items: center; justify-content: center; padding: 0;">ğŸ¨</button>
                        <button class="avatar-option" onclick="saveAvatar('ğŸŒŸ')" style="width: 100%; aspect-ratio: 1; border-radius: 50%; background: #fff; border: 3px solid #ddd; font-size: 2.5rem; cursor: pointer; transition: all 0.3s; display: flex; align-items: center; justify-content: center; padding: 0;">ğŸŒŸ</button>
                        <button class="avatar-option" onclick="saveAvatar('ğŸ’')" style="width: 100%; aspect-ratio: 1; border-radius: 50%; background: #fff; border: 3px solid #ddd; font-size: 2.5rem; cursor: pointer; transition: all 0.3s; display: flex; align-items: center; justify-content: center; padding: 0;">ğŸ’</button>
                        <button class="avatar-option" onclick="saveAvatar('ğŸ”¥')" style="width: 100%; aspect-ratio: 1; border-radius: 50%; background: #fff; border: 3px solid #ddd; font-size: 2.5rem; cursor: pointer; transition: all 0.3s; display: flex; align-items: center; justify-content: center; padding: 0;">ğŸ”¥</button>
                        <button class="avatar-option" onclick="saveAvatar('âš¡')" style="width: 100%; aspect-ratio: 1; border-radius: 50%; background: #fff; border: 3px solid #ddd; font-size: 2.5rem; cursor: pointer; transition: all 0.3s; display: flex; align-items: center; justify-content: center; padding: 0;">âš¡</button>
                        <button class="avatar-option" onclick="saveAvatar('ğŸŒˆ')" style="width: 100%; aspect-ratio: 1; border-radius: 50%; background: #fff; border: 3px solid #ddd; font-size: 2.5rem; cursor: pointer; transition: all 0.3s; display: flex; align-items: center; justify-content: center; padding: 0;">ğŸŒˆ</button>
                    </div>
                </div>
                
                <button class="btn btn-primary" onclick="saveProfile()" style="width: 100%; padding: 15px; font-size: 1.1rem; margin-top: 20px;">
                    ğŸ’¾ SAVE PROFILE
                </button>
            </div>
        </div></div>

        <!-- Settings Tab -->
        
    <!-- Settings Modal -->
    <div id="settingsModal" class="modal">
        <div class="modal-content" style="max-width: 600px;">
            <div class="modal-header">
                <h3>âš™ï¸ Settings</h3>
                <button class="close-btn" onclick="closeSettingsModal()">&times;</button>
            </div>
            
            <div class="settings-panel">
                <div class="settings-section">
                    <h3>ğŸ” Filter by Client</h3>
                    <p style="color:var(--text-light);margin-bottom:15px">Choose which client's tasks to display on the calendar</p>
                    <select id="calendarClientFilter" onchange="filterCalendarByClient()" style="width:100%;padding:12px 15px;border:2px solid var(--border-color);border-radius:8px;font-size:1rem;background:#fff;cursor:pointer">
                        <option value="all">All Clients</option>
                    </select>
                </div>

                <div class="settings-section">
                    <button class="btn btn-primary btn-full" onclick="toggleThemeSelection()" style="display:flex;justify-content:space-between;align-items:center">
                        <span>ğŸ¨ Theme Selection</span>
                        <span id="themeToggleIcon">â–¼</span>
                    </button>
                    <div id="themeSelectionPanel" style="display:none;margin-top:15px">
                        <div class="theme-options" id="themeOptions"></div>
                    </div>
                </div>

                <div class="settings-section">
                    <button class="btn btn-primary btn-full" onclick="toggleCustomColors()" style="display:flex;justify-content:space-between;align-items:center">
                        <span>ğŸ¨ Custom Colors</span>
                        <span id="colorsToggleIcon">â–¼</span>
                    </button>
                    <div id="customColorsPanel" style="display:none;margin-top:15px">
                        <div class="form-group">
                            <label>Primary Color</label>
                            <div class="color-picker-group">
                                <input type="color" id="primaryColor" value="#4a90e2">
                                <div class="color-preview" id="primaryPreview" style="background:#4a90e2;color:#fff">Primary</div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Background Gradient Start</label>
                            <div class="color-picker-group">
                                <input type="color" id="bgGradientStart" value="#667eea">
                                <div class="color-preview" id="bgStartPreview" style="background:#667eea;color:#fff">Start</div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Background Gradient End</label>
                            <div class="color-picker-group">
                                <input type="color" id="bgGradientEnd" value="#764ba2">
                                <div class="color-preview" id="bgEndPreview" style="background:#764ba2;color:#fff">End</div>
                            </div>
                        </div>
                        <button class="btn btn-primary btn-full" onclick="applyCustomTheme()">Apply Custom Theme</button>
                    </div>
                </div>

                <div class="settings-section">
                    <h3>ğŸ”„ Reset</h3>
                    <button class="btn btn-secondary btn-full" onclick="resetToDefault()">Reset to Default</button>
                </div>
            </div>
        
        </div>
    </div>
    
    <!-- Task Modal -->
    <div id="taskModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">Add New Task</h3>
                <button class="close-btn" onclick="closeTaskModal()">&times;</button>
            </div>
            <form id="taskForm" onsubmit="saveTask(event)">
                <input type="hidden" id="taskId">
                <div class="form-group-with-button">
                    <div class="form-group">
                        <label for="taskClient">Client *</label>
                        <select id="taskClient" required>
                            <option value="">Select a client</option>
                        </select>
                    </div>
                    <button type="button" class="btn btn-success btn-icon" onclick="openAddClientModal()">+ Client</button>
                </div>
                <div class="form-group">
                    <label for="taskTitle">Task Title *</label>
                    <input type="text" id="taskTitle" required placeholder="Enter task title">
                </div>
                <div class="form-group">
                    <label for="taskDescription">Description</label>
                    <textarea id="taskDescription" placeholder="Enter task description (optional)"></textarea>
                </div>
                <div class="form-group">
                    <label for="taskDate">Date *</label>
                    <input type="date" id="taskDate" required>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="taskStartTime">Start Time *</label>
                        <input type="time" id="taskStartTime" required>
                    </div>
                    <div class="form-group">
                        <label for="taskEndTime">End Time</label>
                        <input type="time" id="taskEndTime">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="taskUrgency">Urgency Level *</label>
                        <select id="taskUrgency" required>
                            <option value="low">Low (Green)</option>
                            <option value="medium" selected>Medium (Yellow)</option>
                            <option value="high">High (Orange)</option>
                            <option value="urgent">Urgent (Red)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="taskReminder">Reminder Before</label>
                        <select id="taskReminder">
                            <option value="0">No Reminder</option>
                            <option value="5">5 minutes</option>
                            <option value="15" selected>15 minutes</option>
                            <option value="30">30 minutes</option>
                            <option value="60">1 hour</option>
                            <option value="1440">1 day</option>
                        </select>
                    </div>
                </div>
                <div style="display:flex;gap:10px;margin-top:25px;flex-wrap:wrap">
                    <button type="submit" class="btn btn-primary" style="flex:1;min-width:120px">Save Task</button>
                    <button type="button" class="btn btn-secondary" style="flex:1;min-width:120px" onclick="closeTaskModal()">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Client Modal -->
    <div id="clientModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="clientModalTitle">Add New Client</h3>
                <button class="close-btn" onclick="closeClientModal()">&times;</button>
            </div>
            <form id="clientForm" onsubmit="saveClient(event)">
                <input type="hidden" id="clientId">
                <div class="form-group">
                    <label for="clientName">Client Name *</label>
                    <input type="text" id="clientName" required placeholder="Enter client name">
                </div>
                <div class="form-group">
                    <label for="clientEmail">Email</label>
                    <input type="email" id="clientEmail" placeholder="Enter client email (optional)">
                </div>
                <div class="form-group">
                    <label for="clientPhone">Phone</label>
                    <input type="tel" id="clientPhone" placeholder="Enter client phone (optional)">
                </div>
                <div class="form-group">
                    <label for="clientNotes">Notes</label>
                    <textarea id="clientNotes" placeholder="Enter any additional notes (optional)"></textarea>
                </div>
                <div style="display:flex;gap:10px;margin-top:25px;flex-wrap:wrap">
                    <button type="submit" class="btn btn-primary" style="flex:1;min-width:120px">Save Client</button>
                    <button type="button" class="btn btn-secondary" style="flex:1;min-width:120px" onclick="closeClientModal()">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Date Action Choice Modal -->
    <div id="dateActionModal" class="modal">
        <div class="modal-content" style="max-width:500px">
            <div class="modal-header">
                <h3 id="dateActionTitle">Tasks for this Date</h3>
                <button class="close-btn" onclick="closeDateActionModal()">&times;</button>
            </div>
            <div id="dateActionTaskList" style="margin-bottom:20px"></div>
            <div style="display:flex;gap:10px;flex-wrap:wrap">
                <button class="btn btn-primary" style="flex:1;min-width:140px" onclick="viewDateTasks()">ğŸ“‹ View All Tasks</button>
                <button class="btn btn-success" style="flex:1;min-width:140px" onclick="addTaskForDate()">+ Add New Task</button>
            </div>
        </div>
    </div>

    <div id="toastNotification" class="toast"></div>

    <script>
// =============================================================================
// COMPLETE JAVASCRIPT CODE FOR VIRTUAL ASSISTANT SCHEDULER
// =============================================================================
// Instructions: Add this script section to the HTML file before
    
    <script src="script.js"></script>
</body>
</html>
